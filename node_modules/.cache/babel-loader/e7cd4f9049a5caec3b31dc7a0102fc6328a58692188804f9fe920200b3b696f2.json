{"ast":null,"code":"const GEMINI_API_KEY = process.env.REACT_APP_GEMINI_API_KEY;\nconst GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';\nexport const generateJobDescription = async posting => {\n  if (!GEMINI_API_KEY) {\n    throw new Error('Gemini API key is not configured');\n  }\n  const prompt = `Generate a detailed job description for a ${posting.title} position in the ${posting.department} department of a ${posting.storeType}. \nThe position is ${posting.employmentType} with ${posting.shift} shift, requiring ${posting.experience} level experience.\nLocation: ${posting.location}\nSalary range: ${posting.salary.min} - ${posting.salary.max} ${posting.salary.currency}\n\nPhysical Requirements:\n${posting.physicalRequirements.map(req => `- ${req}`).join('\\n')}\n\nBenefits:\n${posting.benefits.map(benefit => `- ${benefit}`).join('\\n')}\n\nPlease write a professional job description that includes:\n1. A brief overview of the role\n2. Key responsibilities\n3. Required qualifications\n4. Physical requirements\n5. Benefits and perks\n6. Why someone should work here\n\nMake it engaging and professional, suitable for a job posting.`;\n  try {\n    const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: prompt\n          }]\n        }],\n        generationConfig: {\n          temperature: 0.7,\n          topK: 40,\n          topP: 0.95,\n          maxOutputTokens: 1024\n        },\n        safetySettings: [{\n          category: \"HARM_CATEGORY_HARASSMENT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_HATE_SPEECH\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }]\n      })\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error('API Error:', errorData);\n      throw new Error(`Failed to generate job description: ${((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || 'Unknown error'}`);\n    }\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error('Error generating job description:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["GEMINI_API_KEY","process","env","REACT_APP_GEMINI_API_KEY","GEMINI_API_URL","generateJobDescription","posting","Error","prompt","title","department","storeType","employmentType","shift","experience","location","salary","min","max","currency","physicalRequirements","map","req","join","benefits","benefit","response","fetch","method","headers","body","JSON","stringify","contents","parts","text","generationConfig","temperature","topK","topP","maxOutputTokens","safetySettings","category","threshold","ok","_errorData$error","errorData","json","console","error","message","data","candidates","content"],"sources":["/Users/vchartier/Projects/HRCursor/src/services/gemini.ts"],"sourcesContent":["import { JobPosting } from '../types';\n\nconst GEMINI_API_KEY = process.env.REACT_APP_GEMINI_API_KEY;\nconst GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';\n\nexport const generateJobDescription = async (posting: Omit<JobPosting, 'id' | 'description'>): Promise<string> => {\n  if (!GEMINI_API_KEY) {\n    throw new Error('Gemini API key is not configured');\n  }\n\n  const prompt = `Generate a detailed job description for a ${posting.title} position in the ${posting.department} department of a ${posting.storeType}. \nThe position is ${posting.employmentType} with ${posting.shift} shift, requiring ${posting.experience} level experience.\nLocation: ${posting.location}\nSalary range: ${posting.salary.min} - ${posting.salary.max} ${posting.salary.currency}\n\nPhysical Requirements:\n${posting.physicalRequirements.map(req => `- ${req}`).join('\\n')}\n\nBenefits:\n${posting.benefits.map(benefit => `- ${benefit}`).join('\\n')}\n\nPlease write a professional job description that includes:\n1. A brief overview of the role\n2. Key responsibilities\n3. Required qualifications\n4. Physical requirements\n5. Benefits and perks\n6. Why someone should work here\n\nMake it engaging and professional, suitable for a job posting.`;\n\n  try {\n    const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: prompt\n          }]\n        }],\n        generationConfig: {\n          temperature: 0.7,\n          topK: 40,\n          topP: 0.95,\n          maxOutputTokens: 1024,\n        },\n        safetySettings: [\n          {\n            category: \"HARM_CATEGORY_HARASSMENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_HATE_SPEECH\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          }\n        ]\n      })\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('API Error:', errorData);\n      throw new Error(`Failed to generate job description: ${errorData.error?.message || 'Unknown error'}`);\n    }\n\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error('Error generating job description:', error);\n    throw error;\n  }\n}; "],"mappings":"AAEA,MAAMA,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB;AAC3D,MAAMC,cAAc,GAAG,0FAA0F;AAEjH,OAAO,MAAMC,sBAAsB,GAAG,MAAOC,OAA+C,IAAsB;EAChH,IAAI,CAACN,cAAc,EAAE;IACnB,MAAM,IAAIO,KAAK,CAAC,kCAAkC,CAAC;EACrD;EAEA,MAAMC,MAAM,GAAG,6CAA6CF,OAAO,CAACG,KAAK,oBAAoBH,OAAO,CAACI,UAAU,oBAAoBJ,OAAO,CAACK,SAAS;AACtJ,kBAAkBL,OAAO,CAACM,cAAc,SAASN,OAAO,CAACO,KAAK,qBAAqBP,OAAO,CAACQ,UAAU;AACrG,YAAYR,OAAO,CAACS,QAAQ;AAC5B,gBAAgBT,OAAO,CAACU,MAAM,CAACC,GAAG,MAAMX,OAAO,CAACU,MAAM,CAACE,GAAG,IAAIZ,OAAO,CAACU,MAAM,CAACG,QAAQ;AACrF;AACA;AACA,EAAEb,OAAO,CAACc,oBAAoB,CAACC,GAAG,CAACC,GAAG,IAAI,KAAKA,GAAG,EAAE,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;AAChE;AACA;AACA,EAAEjB,OAAO,CAACkB,QAAQ,CAACH,GAAG,CAACI,OAAO,IAAI,KAAKA,OAAO,EAAE,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;EAE7D,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGvB,cAAc,QAAQJ,cAAc,EAAE,EAAE;MACtE4B,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,QAAQ,EAAE,CAAC;UACTC,KAAK,EAAE,CAAC;YACNC,IAAI,EAAE3B;UACR,CAAC;QACH,CAAC,CAAC;QACF4B,gBAAgB,EAAE;UAChBC,WAAW,EAAE,GAAG;UAChBC,IAAI,EAAE,EAAE;UACRC,IAAI,EAAE,IAAI;UACVC,eAAe,EAAE;QACnB,CAAC;QACDC,cAAc,EAAE,CACd;UACEC,QAAQ,EAAE,0BAA0B;UACpCC,SAAS,EAAE;QACb,CAAC,EACD;UACED,QAAQ,EAAE,2BAA2B;UACrCC,SAAS,EAAE;QACb,CAAC,EACD;UACED,QAAQ,EAAE,iCAAiC;UAC3CC,SAAS,EAAE;QACb,CAAC,EACD;UACED,QAAQ,EAAE,iCAAiC;UAC3CC,SAAS,EAAE;QACb,CAAC;MAEL,CAAC;IACH,CAAC,CAAC;IAEF,IAAI,CAACjB,QAAQ,CAACkB,EAAE,EAAE;MAAA,IAAAC,gBAAA;MAChB,MAAMC,SAAS,GAAG,MAAMpB,QAAQ,CAACqB,IAAI,CAAC,CAAC;MACvCC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEH,SAAS,CAAC;MACtC,MAAM,IAAIvC,KAAK,CAAC,uCAAuC,EAAAsC,gBAAA,GAAAC,SAAS,CAACG,KAAK,cAAAJ,gBAAA,uBAAfA,gBAAA,CAAiBK,OAAO,KAAI,eAAe,EAAE,CAAC;IACvG;IAEA,MAAMC,IAAI,GAAG,MAAMzB,QAAQ,CAACqB,IAAI,CAAC,CAAC;IAClC,OAAOI,IAAI,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAACnB,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI;EACjD,CAAC,CAAC,OAAOc,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzD,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}